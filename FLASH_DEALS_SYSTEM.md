## โก ูุธุงู ุงูุนุฑูุถ ุงูุฎุงุทูุฉ ููุชุฌุงุฑ (Flash Deals System)

### ๐ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ุงุญุชุฑุงูู ูุณูุญ ููุชุฌุงุฑ ุจุฅูุดุงุก ุนุฑูุถ ุฎุงุทูุฉ ูุญุฏูุฏุฉ ุงููุฏุฉ ุนูู ููุชุฌุงุชูู ูุฒูุงุฏุฉ ุงููุจูุนุงุช ูุฌุฐุจ ุงูุนููุงุก.

---

### โ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

#### ๐ฏ ููุชุฌุงุฑ:
- โ ุฅูุดุงุก ุนุฑุถ ุฎุงุทู ุนูู ุฃู ููุชุฌ
- โ ุชุญุฏูุฏ ูุฏุฉ ุงูุนุฑุถ ุจุงูุณุงุนุงุช
- โ ุชุญุฏูุฏ ุณุนุฑ ุฎุงุต ููุนุฑุถ
- โ ุชุญุฏูุฏ ูููุฉ ูุญุฏูุฏุฉ ููุนุฑุถ
- โ ุจุฏุก ููุฑู ุฃู ุฌุฏููุฉ ูููุณุชูุจู
- โ ุชูุฏูุฏ ุงูุนุฑุถ ุจุณุงุนุงุช ุฅุถุงููุฉ
- โ ุฅูุบุงุก ุงูุนุฑุถ ูู ุฃู ููุช
- โ ูุดุงูุฏุฉ ุฌููุน ุงูุนุฑูุถ (ูุดุทุฉ/ููุชููุฉ/ูุงุฏูุฉ)

#### ๐๏ธ ููุนููุงุก:
- โ ุนุฑุถ ุฌููุน ุงูุนุฑูุถ ุงูุฎุงุทูุฉ ุงููุดุทุฉ
- โ ุงูุนุฏ ุงูุชูุงุฒูู ููู ุนุฑุถ
- โ ูุณุจุฉ ุงูุฎุตู ูุงุถุญุฉ
- โ ุงููููุฉ ุงููุชุจููุฉ
- โ ุชุฑุชูุจ ุญุณุจ ุงูุฃูุฑุจ ููุงูุชูุงุก

---

### ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช

#### ุงูุญููู ุงููุถุงูุฉ ูุฌุฏูู `products`:

```prisma
model Product {
  // ... ุงูุญููู ุงูููุฌูุฏุฉ
  
  // ============ ูุธุงู ุงูุนุฑูุถ ุงูุฎุงุทูุฉ ============
  isFlashDeal       Boolean   @default(false)
  flashDealStartsAt DateTime? // ุชุงุฑูุฎ ุจุฏุก ุงูุนุฑุถ
  flashDealEndsAt   DateTime? // ุชุงุฑูุฎ ุงูุชูุงุก ุงูุนุฑุถ
  flashDealPrice    Float?    // ุงูุณุนุฑ ุงูุฎุงุต ุจุงูุนุฑุถ
  flashDealStock    Int?      // ุงููููุฉ ุงููุชุงุญุฉ ููุนุฑุถ
}
```

---

### ๐ API Routes

#### 1. ููุชุฌุงุฑ (Vendor APIs)

**GET `/api/vendor/flash-deals`**
- ุฌูุจ ุฌููุน ุงูุนุฑูุถ ุงูุฎุงุทูุฉ ููุชุงุฌุฑ
- Query Parameters:
  - `status`: all | active | expired | upcoming
- Response: ูุงุฆูุฉ ุงูุนุฑูุถ ูุน ุชูุงุตูููุง

**POST `/api/vendor/flash-deals`**
- ุฅูุดุงุก ุนุฑุถ ุฎุงุทู ุฌุฏูุฏ
- Body:
  ```json
  {
    "productId": "product123",
    "flashDealPrice": 150.00,
    "durationHours": 24,
    "flashDealStock": 50,
    "startsImmediately": true
  }
  ```

**PATCH `/api/vendor/flash-deals/[id]`**
- ุชูุฏูุฏ ุนุฑุถ ุฎุงุทู
- Body:
  ```json
  {
    "additionalHours": 12
  }
  ```

**DELETE `/api/vendor/flash-deals/[id]`**
- ุฅูุบุงุก ุนุฑุถ ุฎุงุทู

#### 2. ููุนููุงุก (Public APIs)

**GET `/api/flash-deals`**
- ุฌูุจ ุฌููุน ุงูุนุฑูุถ ุงููุดุทุฉ ุญุงููุงู
- Response: ูุงุฆูุฉ ุงูุนุฑูุถ ูุน ูุณุจุฉ ุงูุฎุตู ูุงูููุช ุงููุชุจูู

---

### ๐ ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู

#### ุฅูุดุงุก ุนุฑุถ ุฎุงุทู (24 ุณุงุนุฉ):
```javascript
const response = await fetch('/api/vendor/flash-deals', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    productId: 'xyz123',
    flashDealPrice: 99.99,  // ุงูุณุนุฑ ุงูุฃุตูู: 199.99
    durationHours: 24,
    flashDealStock: 100,
    startsImmediately: true
  })
});
```

#### ุชูุฏูุฏ ุนุฑุถ ุจู 12 ุณุงุนุฉ:
```javascript
const response = await fetch('/api/vendor/flash-deals/xyz123', {
  method: 'PATCH',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    additionalHours: 12
  })
});
```

#### ุฅูุบุงุก ุนุฑุถ:
```javascript
const response = await fetch('/api/vendor/flash-deals/xyz123', {
  method: 'DELETE'
});
```

---

### ๐จ UI Components (ุงููุทููุจ ุฅูุดุงุคูุง)

#### 1. ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุนุฑูุถ ููุชุงุฌุฑ `/vendor/flash-deals`
- ูุงุฆูุฉ ุฌููุน ุงูุนุฑูุถ (tabs: ูุดุทุฉุ ูุงุฏูุฉุ ููุชููุฉ)
- ุฒุฑ ุฅุถุงูุฉ ุนุฑุถ ุฌุฏูุฏ
- ุฅุญุตุงุฆูุงุช (ุนุฏุฏ ุงูุนุฑูุถุ ุงููุจูุนุงุชุ ุฅูุฎ)

#### 2. ูููุฐุฌ ุฅุถุงูุฉ ุนุฑุถ ุฎุงุทู
- ุงุฎุชูุงุฑ ุงูููุชุฌ
- ุชุญุฏูุฏ ุงูุณุนุฑ ุงูุฎุงุต
- ุชุญุฏูุฏ ุงููุฏุฉ ุจุงูุณุงุนุงุช
- ุชุญุฏูุฏ ุงููููุฉ
- ุฎูุงุฑ ุงูุจุฏุก ุงูููุฑู/ุงูุฌุฏููุฉ

#### 3. ุตูุญุฉ ุงูุนุฑูุถ ุงูุฎุงุทูุฉ ููุนููุงุก `/flash-deals`
- Grid ููุนุฑูุถ ุงููุดุทุฉ
- ุนุฏ ุชูุงุฒูู ููู ุนุฑุถ
- ูุณุจุฉ ุงูุฎุตู ุจุงุฑุฒุฉ
- ุงููููุฉ ุงููุชุจููุฉ
- ุฒุฑ "ุงุดุชุฑู ุงูุขู"

#### 4. ูููู ุงูุนุฏ ุงูุชูุงุฒูู
```tsx
<FlashDealCountdown endDate={flashDealEndsAt} />
// ูุนุฑุถ: 23:59:45 (ุณุงุนุฉ:ุฏูููุฉ:ุซุงููุฉ)
```

---

### ๐ ุงูุญูุงูุฉ ูุงูุชุญูู

#### 1. ุนูุฏ ุฅูุดุงุก ุนุฑุถ:
- โ ุงูุชุญูู ูู ุฃู ุงูููุชุฌ ููุชูู ููุชุงุฌุฑ
- โ ุงูุณุนุฑ ุงูุฎุงุทู < ุงูุณุนุฑ ุงูุฃุตูู
- โ ุงููููุฉ ุงููุฎุตุตุฉ โค ุงููุฎุฒูู ุงูููู
- โ ูุฏุฉ ุงูุนุฑุถ > 0 ุณุงุนุฉ

#### 2. ุนูุฏ ุงููุฒุงูุฏุฉ/ุงูุดุฑุงุก:
- โ ุงูุชุญูู ูู ูุดุงุท ุงูุนุฑุถ (ุจูู startDate ู endDate)
- โ ุงูุชุญูู ูู ุชููุฑ ุงููููุฉ
- โ ุฎุตู ูู flashDealStock ูููุณ stock ุงูุนุงุฏู

---

### ๐ ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ

#### ุงููุฑุญูุฉ 2:
- [ ] Flash Deal Groups (ูุฌููุนุฉ ุนุฑูุถ ูู ููุช ูุงุญุฏ)
- [ ] ุชูุจููุงุช ููุนููุงุก ูุจู ุจุฏุก ุงูุนุฑุถ
- [ ] ุฅุญุตุงุฆูุงุช ููุตูุฉ ููุชุงุฌุฑ
- [ ] ุชุงุฑูุฎ ุงูุนุฑูุถ ุงูุณุงุจูุฉ ูุฃุฏุงุฆูุง

#### ุงููุฑุญูุฉ 3:
- [ ] Flash Sale Events (ุฃุญุฏุงุซ ูุจุฑู ูุซู Black Friday)
- [ ] ูุธุงู ููุงุท ูุถุงุนู ููุนุฑูุถ ุงูุฎุงุทูุฉ
- [ ] Countdown Timer ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
- [ ] Push Notifications ุนูุฏ ุจุฏุก ุนุฑุถ

---

### ๐ ุฎุทูุงุช ุงูุชุทุจูู

#### 1. ุชุทุจูู Database Migration:
```bash
# ุงูุทุฑููุฉ ุงูุฃููู: Prisma
npx prisma migrate dev --name add-flash-deals-enhancements

# ุงูุทุฑููุฉ ุงูุซุงููุฉ: SQL ูุจุงุดุฑุฉ
psql -U user -d database -f add-flash-deals-enhancements.sql
```

#### 2. ุชุญุฏูุซ Prisma Client:
```bash
npx prisma generate
```

#### 3. ุฅูุดุงุก ุตูุญุงุช ุงููุงุฌูุฉ:
- ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุนุฑูุถ ููุชุฌุงุฑ
- ุตูุญุฉ ุนุฑุถ ุงูุนุฑูุถ ููุนููุงุก
- ูููู ุงูุนุฏ ุงูุชูุงุฒูู

#### 4. ุงุฎุชุจุงุฑ ุงููุธุงู:
- ุฅูุดุงุก ุนุฑุถ ุฎุงุทู
- ุงูุชุญูู ูู ุธููุฑู ูู API
- ุงุฎุชุจุงุฑ ุงูุชูุฏูุฏ
- ุงุฎุชุจุงุฑ ุงูุฅูุบุงุก

---

### ๐ ููุงุญุธุงุช ูููุฉ

โ๏ธ **ุงูุฃูุงู:**
- ูู ูุชู ุญุฐู ุฃู ุจูุงูุงุช ููุฌูุฏุฉ
- ุฌููุน ุงูุชุบููุฑุงุช ุฅุถุงููุฉ ููุท
- API ูุญููุฉ ุจู Authentication
- ุงูุชุญูู ูู ุตูุงุญูุงุช ุงูุชุงุฌุฑ

โ๏ธ **ุงูุฃุฏุงุก:**
- Indexes ูุถุงูุฉ ูุชุญุณูู ุงูุงุณุชุนูุงูุงุช
- Cache-Control: no-cache ููุนุฑูุถ ุงููุดุทุฉ
- Limit 50 ุนุฑุถ ูุญุฏ ุฃูุตู

โ๏ธ **Logic:**
- ุนูุฏ ุงูุชูุงุก ุงูุนุฑุถ: ูุจูู `isFlashDeal = true` ููุณุฌูุงุช
- ูููู ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ุงูููุชุฌ ูุนุฑุถ ุฌุฏูุฏ
- ุงูุณุนุฑ ุงูุฃุตูู ูุญููุธ ูู `originalPrice`

---

### ๐ฏ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู

#### ุณููุงุฑูู 1: ุนุฑุถ ุฎุงุทู 24 ุณุงุนุฉ
```
- ุงูุชุงุฌุฑ: ูุถูู ุนุฑุถ ุนูู ููุชุฌ ุจุณุนุฑ 50% ุฎุตู ููุฏุฉ 24 ุณุงุนุฉ
- ุงููุธุงู: ูุญูุธ startDate = ุงูุขูุ endDate = ุงูุขู + 24 ุณุงุนุฉ
- ุงูุนููุงุก: ูุฑูู ุงูุนุฑุถ ูู ุตูุญุฉ Flash Deals ูุน ุงูุนุฏ ุงูุชูุงุฒูู
- ุจุนุฏ 24 ุณุงุนุฉ: ููุชูู ุงูุนุฑุถ ุชููุงุฆูุงู
```

#### ุณููุงุฑูู 2: ุชูุฏูุฏ ุนุฑุถ ูุงุฌุญ
```
- ุงูุชุงุฌุฑ: ูุงุญุธ ุฅูุจุงู ูุจูุฑ ุนูู ุงูุนุฑุถ
- ููุฑุฑ: ุชูุฏูุฏ ุงูุนุฑุถ 12 ุณุงุนุฉ ุฅุถุงููุฉ
- ุงููุธุงู: ูุญุฏุซ endDate = endDate + 12 ุณุงุนุฉ
- ุงูุนููุงุก: ูุฑูู ุงูููุช ุงููุชุจูู ุงูุฌุฏูุฏ
```

#### ุณููุงุฑูู 3: ุฅูุบุงุก ุนุฑุถ ุบูุฑ ูุงุฌุญ
```
- ุงูุชุงุฌุฑ: ูุงุญุธ ุนุฏู ูุฌูุฏ ูุจูุนุงุช
- ููุฑุฑ: ุฅูุบุงุก ุงูุนุฑุถ
- ุงููุธุงู: ูุญุฐู ุจูุงูุงุช ุงูุนุฑุถ (isFlashDeal = false)
- ุงูููุชุฌ: ูุนูุฏ ูุญุงูุชู ุงูุทุจูุนูุฉ
```

---

**ุชู ุจูุงุณุทุฉ:** GitHub Copilot  
**ุงูุชุงุฑูุฎ:** 17 ูุจุฑุงูุฑ 2026  
**ุงูุฅุตุฏุงุฑ:** 1.0.0
