# ๐ง ุฅุตูุงุญ ูุดููุฉ ุงูุชุนููู ูู ูุธุงู ุงูุชูุณูุท

## ๐ ุงููุดููุฉ

ุนูุฏ ูุญุงููุฉ ุฅุชูุงู ุงุชูุงููุฉ ุงูุชูุณูุทุ ูุงู ุงููุธุงู ูุชุนูู ุนูุฏ:
- **ุฑุณุงูุฉ:** "ุฌุงุฑู ุงูุชุญูู ูู ุงููููุฉ..."
- **ุงูุณุจุจ:** ูุดู ุฑูุน ุงูุตูุฑ ุฅูู Cloudinary

### ๐ ุงูุชูุงุตูู ุงูุชูููุฉ:

**ุงูุณููุงุฑูู:**
1. ุงููุณุชุฎุฏู ูุฑูุน ุตูุฑุฉ ุงูุจุทุงูุฉ โ
2. ุงููุณุชุฎุฏู ููุชูุท ุตูุฑุฉ ุณูููู โ
3. ุงููุณุชุฎุฏู ูููุฃ ุงูุจูุงูุงุช ููุถุบุท "ุงูุชูุฏูู"
4. ุงูููุฏ ูุญุงูู ุฑูุน ุงูุตูุฑ ุฅูู Cloudinary
5. ๐ด **Cloudinary API ุบูุฑ ููุนูู โ ููุดู ุงูุฑูุน**
6. ๐ด **Promise.all ูุชููู ุนู ุงูุงุณุชุฌุงุจุฉ**
7. ๐ด **ุงูุชุทุจูู ูุนูู ูู loading state**

---

## โ ุงูุญู ุงููุทุจู

### 1๏ธโฃ ุฅุถุงูุฉ Error Handling ูุญุณูู

ุชู ุชุนุฏูู ุฏุงูุฉ `handleSubmit` ูู:
```
src/app/installment-agreement/page.tsx
```

**ุงูุชุญุณููุงุช:**
- โ ุฅุถุงูุฉ `.catch()` ููู promise ูู ุงููุตูููุฉ
- โ ุฅุถุงูุฉ **timeout 30 ุซุงููุฉ** ูุชุฌูุจ ุงูุชุนููู ุงูุฃุจุฏู
- โ ุงุณุชุฎุฏุงู **fallback** ููู base64 ุฅุฐุง ูุดู Cloudinary
- โ ุชุญุณูู ุฑุณุงุฆู ุงูุฎุทุฃ ูููุณุชุฎุฏู
- โ ุถูุงู ุนูุฏุฉ `setIsSubmitting(false)` ุฏุงุฆูุงู

### 2๏ธโฃ ุงูููุฏ ุงูุฌุฏูุฏ

```tsx
// ูุญุงููุฉ ุฑูุน ุงูุตูุฑ ูุน error handling
try {
  const uploadPromises: Promise<string>[] = [];
  
  // ุฑูุน ูู ุตูุฑุฉ ูุน catch ููุฃุฎุทุงุก
  if (formData.nationalIdImage && !hasExistingProfile) {
    uploadPromises.push(
      uploadImage(formData.nationalIdImage).catch(() => documentsData.nationalIdImage)
    );
  }
  
  // Timeout protection
  const uploadTimeout = new Promise<string[]>((_, reject) => 
    setTimeout(() => reject(new Error('Upload timeout')), 30000)
  );
  
  const uploadResults = await Promise.race([
    Promise.all(uploadPromises),
    uploadTimeout
  ]);
  
  // ุชุญุฏูุซ ุงูุจูุงูุงุช ุจุงูุฑูุงุจุท ุฅุฐุง ูุฌุญ ุงูุฑูุน
  // ...
  
} catch (uploadError) {
  // ุงุณุชุฎุฏุงู base64 ูู fallback
  console.warn('โ๏ธ ูุดู ุฑูุน ุงูุตูุฑุ ุงุณุชุฎุฏุงู ุงููุณุฎ ุงููุญููุฉ');
}
```

### 3๏ธโฃ ุงูุณููู ุงูุฌุฏูุฏ

**ุณููุงุฑูู 1: Cloudinary ููุนูู** โ
- ูุฑูุน ุงูุตูุฑ ุฅูู Cloudinary
- ูุญูุธ ุฑูุงุจุท Cloudinary ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุฑุณุงูุฉ: "ุชู ุญูุธ ุฌููุน ุงููุณุชูุฏุงุช ุจูุฌุงุญ!"

**ุณููุงุฑูู 2: Cloudinary ุบูุฑ ููุนูู** โ
- ูุญูุธ ุงูุตูุฑ ูู base64 ูู sessionStorage
- ูููู ุนูููุฉ ุงูุชูุณูุท ุจุฏูู ุชููู
- ุฑุณุงูุฉ: "ุชู ุญูุธ ุงููุณุชูุฏุงุช ูุญููุงู!"

**ุณููุงุฑูู 3: ูุดู ุงูุฑูุน (ุจุทุก ุงููุช)** โ
- ุจุนุฏ 30 ุซุงููุฉุ ููุบู ุงููุญุงููุฉ
- ูุณุชุฎุฏู base64 ูู fallback
- ูููู ุงูุนูููุฉ ุจูุฌุงุญ

---

## ๐ ุชูุนูู Cloudinary (ููุตู ุจู)

### ููุงุฐุง Cloudinaryุ

**ุจุฏูู Cloudinary:**
- โ ุงูุตูุฑ ุชูุญูุธ ูู base64 ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุญุฌู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุจุฑ ุจุณุฑุนุฉ
- โ ุงุณุชุนูุงูุงุช ุจุทูุฆุฉ
- โ ุชูููุฉ ุงุณุชุถุงูุฉ ุฃุนูู

**ูุน Cloudinary:**
- โ ุงูุตูุฑ ุนูู ุณูุฑูุฑ CDN ุณุฑูุน
- โ ุชุญููู ุฃุณุฑุน ููุตูุญุงุช
- โ ุถุบุท ุชููุงุฆู ููุตูุฑ
- โ ูุงุนุฏุฉ ุจูุงูุงุช ุฎูููุฉ
- โ ูุฌุงูู ุญุชู 25 GB ุดูุฑูุงู

### ุฎุทูุงุช ุงูุชูุนูู:

#### 1. ุฅูุดุงุก ุญุณุงุจ Cloudinary ูุฌุงูู

```
https://cloudinary.com/users/register_free
```

#### 2. ุงูุญุตูู ุนูู ุงูููุงุชูุญ

ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู:
1. ุงุฐูุจ ุฅูู Dashboard
2. ุงูุณุฎ:
   - **Cloud Name** (e.g., `dkxxx1234`)
   - **API Key** (e.g., `123456789012345`)
   - **API Secret** (e.g., `abcDEF123xyz456...`)

#### 3. ุฅุถุงูุฉ ุงูููุงุชูุญ ูู `.env`

```env
# Cloudinary Configuration
CLOUDINARY_CLOUD_NAME="dkxxx1234"
CLOUDINARY_API_KEY="123456789012345"
CLOUDINARY_API_SECRET="abcDEF123xyz456789..."
```

#### 4. ุฅุนุงุฏุฉ ุชุดุบูู ุงูุณูุฑูุฑ

```bash
# ุฃููู ุงูุณูุฑูุฑ (Ctrl + C)
# ุซู ุดุบูู ูู ุฌุฏูุฏ
npm run dev
```

#### 5. ุงูุชุญูู ูู ุงูุนูู

ุงูุชุญ Console ุนูุฏ ุฑูุน ุตูุฑุฉ:
```
โ ุชู ุฑูุน ุงูุตูุฑุฉ ุจูุฌุงุญ: https://res.cloudinary.com/...
```

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### ูุจู ุงูุชุญุฏูุซ:
```
1. ุงูุชุญ ุตูุญุฉ ุงูุชูุณูุท
2. ุงุฑูุน ุงูุตูุฑ
3. ุงุถุบุท "ุงูุชูุฏูู"
โ ูุนูู ุนูุฏ "ุฌุงุฑู ุงูุชุญูู ูู ุงููููุฉ..."
```

### ุจุนุฏ ุงูุชุญุฏูุซ:
```
1. ุงูุชุญ ุตูุญุฉ ุงูุชูุณูุท
2. ุงุฑูุน ุงูุตูุฑ
3. ุงุถุบุท "ุงูุชูุฏูู"
โ ุฑุณุงูุฉ: "ุฌุงุฑู ุญูุธ ุงููุณุชูุฏุงุช..."
โ ุฑุณุงูุฉ: "ุฌุงุฑู ุฑูุน ุงูุตูุฑ..." (ุฅุฐุง Cloudinary ููุนูู)
โ ุฑุณุงูุฉ: "ุชู ุญูุธ ุงููุณุชูุฏุงุช ุจูุฌุงุญ!"
โ ููุฌููู ุฅูู ุตูุญุฉ ุงูุฏูุน
```

---

## ๐ ููุงุฑูุฉ ุงูุฃุฏุงุก

| ุงูููุฒุฉ | ูุจู ุงูุฅุตูุงุญ | ุจุนุฏ ุงูุฅุตูุงุญ |
|--------|-------------|-------------|
| **ุงูุชุนููู** | ูุนู โ | ูุง โ |
| **Timeout Protection** | ูุง โ | ูุนู (30s) โ |
| **Fallback ููู base64** | ูุง โ | ูุนู โ |
| **ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ** | ูุง โ | ูุนู โ |
| **ูููู ุจุฏูู Cloudinary** | ูุง โ | ูุนู โ |

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ูุง ูุฒุงู ูุนููุ

**ุชุญูู ูู:**
```bash
# ุงูุชุญ Console ูู ุงููุชุตูุญ (F12)
# ุงุจุญุซ ุนู:
โ๏ธ ูุดู ุฑูุน ุงูุตูุฑ ุฅูู Cloudinary
โ ุชู ุญูุธ ุงููุณุชูุฏุงุช ูุญููุงู
```

### ุงููุดููุฉ: ุฎุทุฃ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุชุ

```bash
# ุชุญูู ูู ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช
npm run prisma:studio
```

### ุงููุดููุฉ: ุงูุตูุฑ ูุง ุชุธูุฑุ

**ุฅุฐุง ูุงู Cloudinary ุบูุฑ ููุนูู:**
- ุงูุตูุฑ ูุญููุธุฉ ูู base64
- ุณุชุธูุฑ ูู ุตูุญุฉ ุงูุชูุณูุท
- ููู **ูุฌุจ ุชูุนูู Cloudinary ููุฅูุชุงุฌ**

---

## ๐ ููุงุญุธุงุช ูููุฉ

### โ๏ธ ููุชุทููุฑ:
- ููููู ุงูุนูู **ุจุฏูู** Cloudinary
- ุงูุตูุฑ ุณุชูุญูุธ ูุญููุงู
- ุงููุธุงู ูู ูุชุนูู

### ๐ ููุฅูุชุงุฌ:
- **ูุฌุจ** ุชูุนูู Cloudinary
- ุงูุตูุฑ ุงููุจูุฑุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช = ูุดุงูู
- Cloudinary ูุฌุงูู ุญุชู 25 GB/ุดูุฑ

### ๐ก ุชูุตูุฉ:
```
ูุนูู Cloudinary ุงูุขู ูุฃุฑุญ ุจุงูู! 
ุฎุทูุงุช ุณููุฉุ ูุฌุงููุ ููุญู ูู ุงููุดุงูู.
```

---

## โ ุงูุฎูุงุตุฉ

**ุงููุดููุฉ:** ุงูุชุนููู ุนูุฏ "ุฌุงุฑู ุงูุชุญูู ูู ุงููููุฉ..."

**ุงูุณุจุจ:** ูุดู ุฑูุน ุงูุตูุฑ ุจุฏูู error handling

**ุงูุญู:**
1. โ ุฅุถุงูุฉ timeout protection
2. โ ุฅุถุงูุฉ fallback ููู base64
3. โ ุชุญุณูู error handling
4. โ ุฑุณุงุฆู ูุงุถุญุฉ ูููุณุชุฎุฏู

**ุงููุชูุฌุฉ:**
- ๐ฏ ุงููุธุงู ูู ูุชุนูู ุฃุจุฏุงู
- ๐ฏ ูุนูู ูุน ุฃู ุจุฏูู Cloudinary
- ๐ฏ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ
- ๐ฏ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุณูุณุฉ

---

## ๐ ุฑูุงุจุท ูููุฏุฉ

- [Cloudinary Sign Up](https://cloudinary.com/users/register_free)
- [Cloudinary Dashboard](https://console.cloudinary.com)
- [Cloudinary Documentation](https://cloudinary.com/documentation)
- [Next.js Image Optimization](https://nextjs.org/docs/app/building-your-application/optimizing/images)

---

**ุชุงุฑูุฎ ุงูุฅุตูุงุญ:** 17 ูุจุฑุงูุฑ 2026  
**ุงููููุงุช ุงููุนุฏููุฉ:** `src/app/installment-agreement/page.tsx`  
**ุงูุญุงูุฉ:** โ ุชู ุงูุฅุตูุงุญ ูุงูุงุฎุชุจุงุฑ
