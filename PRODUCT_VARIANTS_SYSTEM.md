# ๐ฏ ูุธุงู ุงูููุงุณุงุช ูุงูุฃุนูุงุฑ ุงููุชุนุฏุฏุฉ (Product Variants System)

## ุงููุดููุฉ ุงูุชู ุญููุง ูุฐุง ุงููุธุงู

ูู ุตูุญุฉ ุฅุถุงูุฉ ููุชุฌ ุงูุดุฑููุ ูุงู ููุงู ุญุงุฌุฉ ููุธุงู ูุณูุญ ุจู:

1. **ููุงุณุงุช ูุฎุชููุฉ ุจุฃุณุนุงุฑ ูุฎุชููุฉ**
   - ูุซุงู: Small ุจู 250 ุฌูููุ Medium ุจู 300 ุฌูููุ Large ุจู 350 ุฌููู

2. **ููุงุจุณ ุงูุฃุทูุงู ุญุณุจ ุงูุนูุฑ**
   - ูุซุงู: ูู 0-3 ุดููุฑ ุจู 150 ุฌูููุ ูู 3-6 ุดููุฑ ุจู 200 ุฌูููุ ุณูุฉ ุจู 250 ุฌููู

3. **ูููุฉ ูููุตูุฉ ููู ููุงุณ**
   - ูู ููุงุณ ูู stock ุฎุงุต ุจู

## โ ุงูุญู

ุชู ุฅูุดุงุก ูุธุงู **Product Variants** ุดุงูู:

### 1. Database Schema

```prisma
model ProductVariant {
  id          String      @id @default(cuid())
  productId   String
  variantType VariantType @default(SIZE)
  name        String      // "Medium" ุฃู "1-3 ุดููุฑ"
  nameAr      String      // "ูุชูุณุท" ุฃู "ูู ุดูุฑ ูู 3 ุดููุฑ"
  sku         String?     // ููุฏ ุงูููุชุฌ
  price       Float       // ุงูุณุนุฑ ููุฐุง ุงูููุงุณ
  stock       Int         // ุงููููุฉ ุงููุชููุฑุฉ
  isActive    Boolean     @default(true)
  sortOrder   Int         @default(0)
  
  product     Product     @relation(fields: [productId], references: [id])
}

enum VariantType {
  SIZE      // ููุงุณุงุช ุนุงุฏูุฉ (S, M, L, XL)
  AGE       // ุฃุนูุงุฑ ููุฃุทูุงู
  COLOR     // ุฃููุงู
  CUSTOM    // ูุฎุตุต
}
```

### 2. Components

#### `ProductVariantsManager.tsx`
Component ูุฅุฏุงุฑุฉ ุงูููุงุณุงุช/ุงูุฃุนูุงุฑ:

**Features:**
- โ ุฅุถุงูุฉ ููุงุณุงุช ุฌุงูุฒุฉ (S, M, L, XL, XXL, 3XL)
- โ ุฅุถุงูุฉ ุฃุนูุงุฑ ุฃุทูุงู ุฌุงูุฒุฉ (0-3 ุดููุฑุ 6 ุดููุฑุ ุณูุฉุ ุฅูุฎ)
- โ ุฅุถุงูุฉ ููุงุณ ูุฎุตุต
- โ ูู ููุงุณ ูู ุณุนุฑ ููููุฉ ูููุตูุฉ
- โ ุชุฑุชูุจ ุงูููุงุณุงุช (ุฃุนูู/ุฃุณูู)
- โ ุญุฐู ููุงุณ
- โ ุงุฎุชูุงุฑ ุงูููุน (SIZE, AGE, COLOR, CUSTOM)

#### `add-with-variants/page.tsx`
ุตูุญุฉ ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏุฉ ูู ููุญุฉ ุงูุดุฑูู:

**Features:**
- โ ูููุฐุฌ ุฅุถุงูุฉ ููุชุฌ ูุงูู
- โ ุฏูุฌ ProductVariantsManager
- โ ุงูุชุญูู ูู ุงูุจูุงูุงุช
- โ ุญูุธ ุงูููุชุฌ ูุน variants ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### 3. API Endpoint

#### `/api/vendor/products/variants`

**POST** - ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ ูุน variants:
```json
{
  "nameAr": "ูุณุชุงู ุฃุทูุงู",
  "categoryId": "...",
  "variants": [
    {
      "variantType": "AGE",
      "nameAr": "ูู 0 ุฅูู 3 ุดููุฑ",
      "price": 150,
      "stock": 10
    },
    {
      "variantType": "AGE",
      "nameAr": "ูู 3 ุฅูู 6 ุดููุฑ",
      "price": 200,
      "stock": 15
    }
  ]
}
```

**GET** - ุฌูุจ ุงูููุชุฌุงุช ูุน variants:
- `?productId=xxx` - ููุชุฌ ูุญุฏุฏ
- ุจุฏูู parameter - ุฌููุน ููุชุฌุงุช ุงูุดุฑูู

## ๐ฑ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ููุดุฑูู/ุงูุจุงุฆุน:

1. ุงูุชุญ ููุญุฉ ุงูุดุฑูู
2. ุงุฐูุจ ุฅูู "ุงูููุชุฌุงุช"
3. ุงุฎุชุฑ "ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ ูุน ููุงุณุงุช"
4. ุงููุฃ ุจูุงูุงุช ุงูููุชุฌ
5. ุงุฎุชุฑ ููุน ุงูููุงุณุงุช:
   - **ููุงุณุงุช ุฌุงูุฒุฉ**: ุงุถุบุท "ุฅุถุงูุฉ ููุงุณุงุช ุฌุงูุฒุฉ" (S, M, L, XL)
   - **ุฃุนูุงุฑ ุฃุทูุงู ุฌุงูุฒุฉ**: ุงุถุบุท "ุฅุถุงูุฉ ุฃุนูุงุฑ ุฃุทูุงู" (0-3 ุดููุฑุ 6 ุดููุฑุ ุฅูุฎ)
   - **ููุงุณ ูุฎุตุต**: ุงุถุบุท "ุฅุถุงูุฉ ููุงุณ ูุฎุตุต"
6. ุญุฏุฏ ุงูุณุนุฑ ูุงููููุฉ ููู ููุงุณ
7. ุงุญูุธ ุงูููุชุฌ

### ูุซุงู ุนููู:

#### ููุชุฌ: ูุณุชุงู ุจูุงุชู

**ููุงุณุงุช:**
- ูู 0 ุฅูู 3 ุดููุฑ: 150 ุฌูููุ ุงููููุฉ 5
- ูู 3 ุฅูู 6 ุดููุฑ: 180 ุฌูููุ ุงููููุฉ 8
- ูู 6 ุฅูู 9 ุดููุฑ: 200 ุฌูููุ ุงููููุฉ 10
- ุณูุฉ: 250 ุฌูููุ ุงููููุฉ 12

**ุงููุชูุฌุฉ:**
- ุงูุณุนุฑ ุงููุนุฑูุถ ููุนููู: 150 - 250 ุฌููู
- ุฅุฌูุงูู ุงููุฎุฒูู: 35 ูุทุนุฉ
- ุนูุฏ ุงูุดุฑุงุกุ ุงูุนููู ูุฎุชุงุฑ ุงูุนูุฑ ุงูููุงุณุจ

## ๐จ UI/UX Features

- โ ุชุตููู ุนุตุฑู ุจู gradients ูุฃููุงู ุงูุจุฑุงูุฏ
- โ ุฃุฒุฑุงุฑ ุฌุงูุฒุฉ ููููุงุณุงุช ุงูุดุงุฆุนุฉ
- โ ุณูููุฉ ุงูุชุฑุชูุจ (ุฃุนูู/ุฃุณูู)
- โ ุญุฐู ุณุฑูุน
- โ ุฑุณุงุฆู ุชูุถูุญูุฉ ูููุณุชุฎุฏู
- โ Validation ููุจูุงูุงุช

## ๐ ุงูุชุญุฏูุซุงุช ุงููุทููุจุฉ ุนูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ

ูุฌุจ ุชุนุฏูู ุตูุญุฉ ุนุฑุถ ุงูููุชุฌ ููุนููู ูุนุฑุถ ุงูู variants:

```tsx
// ูู ุตูุญุฉ ุงูููุชุฌ
const product = await prisma.product.findUnique({
  where: { id: productId },
  include: {
    variants: {
      where: { isActive: true },
      orderBy: { sortOrder: 'asc' }
    }
  }
});

// ุนุฑุถ ุงูููุงุณุงุช ููุนููู
{product.variants.map(variant => (
  <button 
    key={variant.id}
    onClick={() => selectVariant(variant)}
  >
    {variant.nameAr} - {variant.price} ุฌููู
  </button>
))}
```

## ๐ Migration

ุชู ุฅูุดุงุก migration ุชููุงุฆู:
```bash
npx prisma migrate dev --name add_product_variants_system
```

## ๐ ุงูุฎุทูุงุช ุงูููุฌุฒุฉ

1. โ ุฅูุดุงุก ProductVariant model ูู schema.prisma
2. โ ุฅุถุงูุฉ VariantType enum
3. โ ุฅูุดุงุก migration ูุชุทุจููู
4. โ ุจูุงุก ProductVariantsManager component
5. โ ุฅูุดุงุก API endpoint ููู variants
6. โ ุจูุงุก ุตูุญุฉ ุฅุถุงูุฉ ููุชุฌ ูุน variants
7. โ ุงุฎุชุจุงุฑ ุงููุธุงู

## ๐ ููุงุญุธุงุช

- ูู ููุชุฌ ูุฌุจ ุฃู ูููู ูู variant ูุงุญุฏ ุนูู ุงูุฃูู
- ุงูุณุนุฑ ุงูุฃุณุงุณู ููููุชุฌ = ุฃูู ุณุนุฑ ูู ุงูู variants
- ุงููุฎุฒูู ุงูููู = ูุฌููุน ูุฎุฒูู ุฌููุน ุงูู variants
- ูููู ูุฒุฌ ุฃููุงุน variants ูุฎุชููุฉ (ููุงุณุงุช + ุฃููุงู ูุซูุงู)

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ (ุงุฎุชูุงุฑู)

1. ุชุนุฏูู ุตูุญุฉ ุงูููุชุฌ ููุนููู ูุนุฑุถ variants
2. ุชุนุฏูู ุณูุฉ ุงูุชุณูู ูุญูุธ ุงูู variant ุงููุฎุชุงุฑ
3. ุชุญุฏูุซ ูุธุงู ุงูุทูุจุงุช ููุญูุธ variant_id
4. ุฅุถุงูุฉ ุชูุงุฑูุฑ ููููุงุณุงุช ุงูุฃูุซุฑ ูุจูุนุงู
5. ูุธุงู ุฅุดุนุงุฑุงุช ุนูุฏ ููุงุฏ ููุงุณ ูุนูู

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก:** 15 ูุจุฑุงูุฑ 2026  
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู
