# ๐ ูุธุงู ุฅููุงู ุญุณุงุจุงุช ุงูุดุฑูุงุก - ุฏููู ุงูุงุณุชุฎุฏุงู ุงูุดุงูู

## โ ุญุงูุฉ ุงููุธุงู: ุฌุงูุฒ ูููุชูู 100%

---

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ูุชูุงูู ูุณูุญ ููุฅุฏุงุฑุฉ ุจุฅููุงู ุญุณุงุจุงุช ุงูุดุฑูุงุก ูุคูุชุงู ูุน ุฅุธูุงุฑ ุฑุณุงูุฉ ูุฎุตุตุฉ ูุทุฑููุฉ ุงูุชูุงุตู.

### ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ:
- โ ุฅููุงู/ุชูุนูู ุญุณุงุจุงุช ุงูุดุฑูุงุก ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ
- โ ุฑุณุงุฆู ูุฎุตุตุฉ ููู ุดุฑูู
- โ ุตูุญุฉ ุงุญุชุฑุงููุฉ ููุดุฑูุงุก ุงูููููููู
- โ ุฒุฑ ูุงุชุณุงุจ ูุจุงุดุฑ ููุชูุงุตู
- โ ููุน ุงููุตูู ุชููุงุฆูุงู ุนูุฏ ุงูุฅููุงู
- โ ุชุณุฌูู ูู ุฃููู ููุชู

---

## ๐ฏ ููููุฉ ุงุณุชุฎุฏุงู ุงููุธุงู

### 1๏ธโฃ ุฅููุงู ุญุณุงุจ ุดุฑูู (ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ)

**ุงูุฎุทูุงุช:**

1. ุงูุชุญ ุตูุญุฉ ุงูุดุฑูุงุก:
   ```
   http://localhost:3003/admin/partners
   ุฃู
   https://www.remostore.net/admin/partners
   ```

2. ุงุถุบุท ุนูู ุฒุฑ **"ุฅููุงู ูุคูุช"** ๐ก๏ธ ุจุฌุงูุจ ุงูุดุฑูู ุงููุฑุงุฏ ุฅููุงูู

3. ุณุชุธูุฑ ูุงูุฐุฉ (Dialog) ุจูุง:
   - ุนููุงู: **"ุฅููุงู ูุคูุช ููุญุณุงุจ"**
   - ุฑุณุงูุฉ ุงูุชุฑุงุถูุฉ ุชุญุชูู ุนูู ุงุณู ุงููุชุฌุฑ
   - ููููู ุชุนุฏูู ุงูุฑุณุงูุฉ ููุง ุชุฑูุฏ

4. **ุงูุฑุณุงูุฉ ุงูุงูุชุฑุงุถูุฉ:**
   ```
   {ุงุณู ุงููุชุฌุฑ} ูุง ุฃููุงู ูุณููุงู! ูู ูุถูู ุชูุงุตู ูุนุงูุง ุนูู ุงููุงุชุณุงุจ ูุชูุนูู ุญุณุงุจู
   ```

5. ุงุถุบุท **"ุฅููุงู ุงูุญุณุงุจ"** ููุชุฃููุฏ

6. ุณุชุธูุฑ ุฑุณุงูุฉ ูุฌุงุญ: **"ุชู ุฅููุงู ุญุณุงุจ {ุงุณู ุงููุชุฌุฑ} ุจูุฌุงุญ"** โ

---

### 2๏ธโฃ ูุงุฐุง ูุญุฏุซ ููุดุฑูู ุงููููููุ

ุนูุฏูุง ูุญุงูู ุงูุดุฑูู ุชุณุฌูู ุงูุฏุฎูู:

1. **ูุฏุฎู ุฅูู ุญุณุงุจู ุจุดูู ุทุจูุนู** (ุงูููุฒุฉ ุงูุฐููุฉ!)
2. **ูููุฌูู ุชููุงุฆูุงู** ุฅูู ุตูุญุฉ ุฎุงุตุฉ: `/vendor/suspended`
3. **ูุฑู ุตูุญุฉ ุงุญุชุฑุงููุฉ** ุชุญุชูู ุนูู:
   - ๐จ ุชุตููู ุฌุฐุงุจ ุจุฃููุงู ุงูุจููุณุฌู ูุงููุฑุฏู
   - ๐ ุงูุฑุณุงูุฉ ุงููุฎุตุตุฉ ูู ุงูุฅุฏุงุฑุฉ
   - ๐ฌ ุฒุฑ ูุงุชุณุงุจ ูุจุงุดุฑ ููุชูุงุตู
   - ๐ ุฑูู ุงููุงุชู (ุฅู ูุฌุฏ)
   - ๐ช ุฒุฑ ุชุณุฌูู ุฎุฑูุฌ

---

### 3๏ธโฃ ุชูุนูู ุญุณุงุจ ููููู

**ุงูุทุฑููุฉ ุงูุญุงููุฉ:**
- ูุง ููุฌุฏ ุฒุฑ ุชูุนูู ูู ุงููุงุฌูุฉ ุจุนุฏ
- ูููู ุงูุชูุนูู ุนุจุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฃู API

**ุงูุชูุนูู ุนุจุฑ API:**
```javascript
POST /api/admin/vendors/[vendorId]/toggle-suspension

Body:
{
  "suspend": false,  // false = ุชูุนูู
  "reason": null     // ูููู ุชุฑููุง null
}
```

**ุงูุชูุนูู ุนุจุฑ Database Script:**
```typescript
// ุชุดุบูู ูุฐุง ุงูุณูุฑูุจุช
npx tsx activate-vendor.ts [vendorId]
```

---

## ๐๏ธ ุงููููุงุช ุงููุนููุฉ ุจุงููุธุงู

### 1. ูุงุนุฏุฉ ุงูุจูุงูุงุช
**`prisma/schema.prisma`** - ุฌุฏูู Vendor:
```prisma
model Vendor {
  // ... ุงูุญููู ุงูููุฌูุฏุฉ
  
  isSuspended        Boolean        @default(false)
  suspensionReason   String?        // ุงูุฑุณุงูุฉ ุงููุฎุตุตุฉ
  suspendedAt        DateTime?      // ูุชู ุชู ุงูุฅููุงู
  suspendedBy        String?        // ID ุงููุณุคูู
}
```

---

### 2. ุตูุญุงุช ุงููุงุฌูุฉ

#### **`/vendor/suspended/page.tsx`** - ุตูุญุฉ ุงูุฅููุงู
ุตูุญุฉ ุงุญุชุฑุงููุฉ ุชุธูุฑ ููุดุฑูุงุก ุงูููููููู:
- ุชุตููู ูููู ุจุชุฏุฑุฌุงุช ุฌูููุฉ
- ุนุฑุถ ุงูุฑุณุงูุฉ ุงููุฎุตุตุฉ
- ุฒุฑ ูุงุชุณุงุจ ูุจุงุดุฑ
- ูุนูููุงุช ุงูุงุชุตุงู

#### **`/admin/partners/page.tsx`** - ุฅุฏุงุฑุฉ ุงูุดุฑูุงุก
ุชู ุฅุถุงูุฉ:
- ุฒุฑ **"ุฅููุงู ูุคูุช"** ุจุฌุงูุจ ูู ุดุฑูู
- Dialog ูุฅุฏุฎุงู ุงูุฑุณุงูุฉ ุงููุฎุตุตุฉ
- ูุนุงูุฌ ูุฅุฑุณุงู ุทูุจ ุงูุฅููุงู

#### **`/vendor/dashboard/page.tsx`** - ููุญุฉ ุชุญูู ุงูุจุงุฆุน
ุชู ุฅุถุงูุฉ:
- ูุญุต ุชููุงุฆู ุนูุฏ ุงูุชุญููู
- ุฅุนุงุฏุฉ ุชูุฌูู ููุตูุญุฉ ุงูุฎุงุตุฉ ุฅุฐุง ูุงู ููููู

---

### 3. ูุงุฌูุงุช API

#### **`GET /api/vendor/suspension-status`**
ูุญุต ุญุงูุฉ ุญุณุงุจ ุงูุดุฑูู ุงูุญุงูู

**Response:**
```json
{
  "isSuspended": true,
  "storeNameAr": "ูุชุฌุฑ ุฃู ูููุฏ",
  "suspensionReason": "ูุง ุฃููุงู ูุณููุงู! ุชูุงุตู ูุนุงูุง...",
  "suspendedAt": "2024-01-15T10:30:00Z",
  "whatsapp": "01234567890",
  "phone": "01234567890"
}
```

#### **`POST /api/admin/vendors/[id]/toggle-suspension`**
ุฅููุงู ุฃู ุชูุนูู ุญุณุงุจ ุดุฑูู (Admin ููุท)

**Request:**
```json
{
  "suspend": true,     // true = ุฅููุงู, false = ุชูุนูู
  "reason": "ุงูุฑุณุงูุฉ ุงููุฎุตุตุฉ"
}
```

**Response:**
```json
{
  "success": true,
  "message": "ุชู ุฅููุงู ุญุณุงุจ ูุชุฌุฑ ุฃู ูููุฏ ุจูุฌุงุญ",
  "vendor": {
    "id": "xxx",
    "storeNameAr": "ูุชุฌุฑ ุฃู ูููุฏ",
    "isSuspended": true,
    "suspensionReason": "...",
    "suspendedAt": "2024-01-15T10:30:00Z"
  }
}
```

---

### 4. Libraries & Utilities

#### **`src/lib/user-activity.ts`**
ููุชุจุฉ ุชุณุฌูู ุงูุฃูุดุทุฉ (ุชู ุฅูุดุงุคูุง ูู ุงูุชุญุฏูุซ ุงูุณุงุจู)

---

## ๐ ูุนูููุงุช ุชูููุฉ

### ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **Database**: PostgreSQL (Neon)
- **ORM**: Prisma
- **ุญููู ุฌุฏูุฏุฉ**: 4 ุญููู ูู ุฌุฏูู `Vendor`

### ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ
- **Framework**: Next.js 15
- **Authentication**: NextAuth v5
- **UI**: Tailwind CSS + shadcn/ui
- **Icons**: Lucide React

### ุงูุฃูุงู
- โ ูุญุต ุตูุงุญูุงุช ADMIN ูุจู ุงูุฅููุงู
- โ ูุญุต ุตูุงุญูุงุช VENDOR ุนูุฏ ุงููุตูู ููุญุงูุฉ
- โ ุฅุนุงุฏุฉ ุชูุฌูู ุชููุงุฆูุฉ ูููุน ุงูุงูุชูุงู

---

## ๐ ูุชุงุฆุฌ ุงูุงุฎุชุจุงุฑ

ุชู ุงุฎุชุจุงุฑ ุงููุธุงู ุจูุฌุงุญ:

```
โ Found 5 vendors
โ Suspended successfully!
โ Unsuspended successfully!
โ All tests passed!
```

**ุงูุดุฑูุงุก ุงูููุฌูุฏูู:**
1. ูุชุฌุฑ ุงูุจุงุฆุน (vendor@bs.com)
2. ูุชุฌุฑ ูุฏู (nada@vendor.com)
3. ูุชุฌุฑ ุฑุถูู (radwa@vendor.com)
4. ูุชุฌุฑ Akram (akram@gmail.com)
5. ูุชุฌุฑ toka (toka@gmail.com)

---

## ๐ ุงูุชุทููุฑุงุช ุงููุณุชูุจููุฉ ุงูููุชุฑุญุฉ

### 1. ุฒุฑ ุงูุชูุนูู ูู ุงููุงุฌูุฉ
ุฅุถุงูุฉ ุฒุฑ **"ุชูุนูู ุงูุญุณุงุจ"** ูู ุตูุญุฉ `/admin/partners`:
```typescript
// ูู partner card
{vendor.isSuspended ? (
  <Button onClick={() => handleToggleSuspension(false)}>
    ุชูุนูู ุงูุญุณุงุจ
  </Button>
) : (
  <Button onClick={() => openSuspensionDialog()}>
    ุฅููุงู ูุคูุช
  </Button>
)}
```

### 2. ุนุฑุถ ุญุงูุฉ ุงูุฅููุงู
ุฅุถุงูุฉ Badge ููุถุญ ุงูุญุงูุฉ:
```typescript
{vendor.isSuspended && (
  <Badge variant="destructive">ููููู ูุคูุชุงู</Badge>
)}
```

### 3. ุณุฌู ุงูุฅููุงูุงุช
ุตูุญุฉ ุชุนุฑุถ ุชุงุฑูุฎ ุงูุฅููุงูุงุช:
- ูู ุฃููู ุงูุญุณุงุจ
- ูุชู ุชู ุงูุฅููุงู
- ุงูุณุจุจ/ุงูุฑุณุงูุฉ
- ูุชู ุชู ุงูุชูุนูู

### 4. ุฅุดุนุงุฑุงุช
ุฅุฑุณุงู ุฅุดุนุงุฑ ููุดุฑูู ุนูุฏ ุงูุฅููุงู/ุงูุชูุนูู:
- ุฅูููู
- ูุงุชุณุงุจ (ุนุจุฑ API)
- Push Notification

### 5. ุฅููุงู ูุคูุช ุจูุฏุฉ ูุญุฏุฏุฉ
ุฅุถุงูุฉ ุฎูุงุฑ:
```typescript
{
  "suspend": true,
  "reason": "...",
  "duration": 7, // ุฃูุงู
  "autoActivate": true
}
```

---

## ๐ฏ ุฃูุซูุฉ ุงุณุชุฎุฏุงู

### ูุซุงู 1: ุฅููุงู ุดุฑูู ูุนุฏู ุฏูุน ุงููุณุชุญูุงุช

**ุงูุฎุทูุงุช:**
1. ุงุฐูุจ ุฅูู `/admin/partners`
2. ุงุถุบุท "ุฅููุงู ูุคูุช" ุนูู ูุชุฌุฑ ูุฏู
3. ุนุฏู ุงูุฑุณุงูุฉ:
   ```
   ูุชุฌุฑ ูุฏู ูุง ุฃููุงู ูุณููุงู! 
   ุฑุตูุฏู ุงูุณุงุจู 500 ุฌููู ูุณุชุญู ูุง ุฑูุช ุชุณููุชู.
   ุชูุงุตู ูุนุงูุง ุนูู ุงููุงุชุณุงุจ ูุชูุนูู ุญุณุงุจู
   ```
4. ุงุถุบุท "ุฅููุงู ุงูุญุณุงุจ"
5. โ ุชู - ุงูุดุฑูู ูู ูุชููู ูู ุงููุตูู ุญุชู ูุชูุงุตู ูุนู

---

### ูุซุงู 2: ุฅููุงู ุดุฑูู ููุฑุงุฌุนุฉ ุงูููุชุฌุงุช

```
ูุชุฌุฑ Akram ุญุจูุจูุง! 
ูู ุจุนุถ ุงูููุชุฌุงุช ูุญุชุงุฌุฉ ูุฑุงุฌุนุฉ.
ุชูุงุตู ูุนุงูุง ุนูู ุงููุงุชุณุงุจ ุนุดุงู ูุฎูุต ุงูููุถูุน ุจุณุฑุนุฉ
```

---

### ูุซุงู 3: ุฅููุงู ูุคูุช ูุชุญุฏูุซ ุงูุจูุงูุงุช

```
ูุชุฌุฑ ุฑุถูู ูุง ุฃููุงู ูุณููุงู! 
ูุญุชุงุฌูู ูุญุฏูุซ ุจูุงูุงุช ุงููุชุฌุฑ.
ูู ูุถูู ุชูุงุตูู ูุนุงูุง ุนูู ุงููุงุชุณุงุจ
```

---

## โ๏ธ ููุงุญุธุงุช ูุงูุฉ

1. **ุงูุดุฑูู ููููู ุชุณุฌูู ุงูุฏุฎูู** - ููู ูููุฌูู ูุจุงุดุฑุฉ ูุตูุญุฉ ุงูุฅููุงู
2. **ูุง ูููู ุงููุตูู ููู Dashboard** - ูุชู ููุนู ุชููุงุฆูุงู
3. **ุงูุฑุณุงูุฉ ูุงุจูุฉ ููุชุฎุตูุต ุจุงููุงูู** - ุนุฏูู ููุง ุชุฑูุฏ
4. **ูุฌุจ ุชูุนูู ุงูุญุณุงุจ ูุฏููุงู** - ูุง ุชูุนูู ุชููุงุฆู ุญุงููุงู
5. **ุชูุณุฌู ุจูุงูุงุช ุงูุฅููุงู** - ูู ุฃููู ููุชู

---

## ๐ ุฃูุซูุฉ ุฑุณุงุฆู ูุงุชุณุงุจ

ุนูุฏ ุงูุถุบุท ุนูู ุฒุฑ ูุงุชุณุงุจุ ููุฑุณู:
```
ูุฑุญุจุงูุ ุฃูุง {ุงุณู ุงููุชุฌุฑ} ูุฃุฑูุฏ ุชูุนูู ุญุณุงุจู
```

ููููู ุชุนุฏูู ุงูุฑุณุงูุฉ ูู:
`src/app/vendor/suspended/page.tsx` - ุณุทุฑ 41

---

## ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ุงูุฒุฑ ูุง ูุธูุฑ
**ุงูุญู:** ุชุฃูุฏ ูู ุชุณุฌูู ุงูุฏุฎูู ูู Admin

### ุงููุดููุฉ: ุงูุดุฑูู ูุง ูููุฌูู ูุตูุญุฉ ุงูุฅููุงู
**ุงูุญู:** ุชุฃูุฏ ูู ุงูุณูุฑูุฑ ุดุบุงู ูquality ุงูุจูุงูุงุช ูุญุฏุซุฉ
```bash
npx prisma db push
```

### ุงููุดููุฉ: ุฑุณุงูุฉ ุฎุทุฃ ุนูุฏ ุงูุฅููุงู
**ุงูุญู:** ุชุญูู ูู console ููู error details

---

## ๐ ูุฑุงุฌุน ุงูุชุทููุฑ

### ุงููููุงุช ุงูุฑุฆูุณูุฉ ุงููุนุฏูุฉ:
1. `prisma/schema.prisma` - ุฅุถุงูุฉ 4 ุญููู
2. `src/app/vendor/suspended/page.tsx` - ุตูุญุฉ ุฌุฏูุฏุฉ
3. `src/app/api/vendor/suspension-status/route.ts` - API ุฌุฏูุฏ
4. `src/app/api/admin/vendors/[id]/toggle-suspension/route.ts` - API ุฌุฏูุฏ
5. `src/app/vendor/dashboard/page.tsx` - ุฅุถุงูุฉ ูุญุต
6. `src/app/admin/partners/page.tsx` - ุฅุถุงูุฉ ุฒุฑ ูุฏialog

---

## โ Checklist ุงูุชูููุฐ

- [x] ุชุนุฏูู ูุงุนุฏุฉ ุงูุจูุงูุงุช (4 ุญููู ุฌุฏูุฏุฉ)
- [x] ุฅูุดุงุก API ูููุญุต
- [x] ุฅูุดุงุก API ููุฅููุงู/ุงูุชูุนูู
- [x] ุฅูุดุงุก ุตูุญุฉ ุงูุฅููุงู
- [x] ุฅุถุงูุฉ ูุญุต ูู Dashboard
- [x] ุฅุถุงูุฉ ุฒุฑ ูู Admin
- [x] ุฅุถุงูุฉ Dialog ููุฑุณุงูุฉ
- [x] ุงุฎุชุจุงุฑ ุงููุธุงู
- [ ] ุฅุถุงูุฉ ุฒุฑ ุงูุชูุนูู
- [ ] ุฅุถุงูุฉ ุฅุดุนุงุฑุงุช
- [ ] ุฅุถุงูุฉ ุณุฌู ุชุงุฑูุฎู

---

## ๐ ุงูุฎูุงุตุฉ

ูุธุงู ุฅููุงู ุญุณุงุจุงุช ุงูุดุฑูุงุก **ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุงูููุฑู**! 

ููููู ุงูุขู:
- โ ุฅููุงู ุฃู ุดุฑูู ุจุถุบุทุฉ ุฒุฑ
- โ ูุชุงุจุฉ ุฑุณุงูุฉ ูุฎุตุตุฉ
- โ ุงูุดุฑูู ูุฑู ุตูุญุฉ ุงุญุชุฑุงููุฉ
- โ ุชูุงุตู ูุจุงุดุฑ ุนุจุฑ ูุงุชุณุงุจ

**ููุงุณุชุฎุฏุงู ุงูุขู:**
```
http://localhost:3003/admin/partners
```

---

**ุชู ุจูุฌุงุญ! ๐**
