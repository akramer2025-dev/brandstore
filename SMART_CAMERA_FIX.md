# ๐ง ุฅุตูุงุญ ุงููุงููุฑุง ุงูุฐููุฉ - Smart Camera Fix

## ๐ฏ ุงููุดููุฉ
```
/api/ai/scan-product:1 Failed to load resource: the server responded with a status of 500
Error scanning product: Error: ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุชุญููู ุงูุตูุฑุฉ
```

## ๐ ุงูุณุจุจ
ููุชุงุญ OpenAI API ุบูุฑ ููุนุฑูู ุจุดูู ุตุญูุญ ูู ููู `.env`

## โ ุงูุญู

### ุงูุฎุทูุฉ 1: ุงุญุตู ุนูู ููุชุงุญ OpenAI API
1. ุงุฐูุจ ุฅูู: [platform.openai.com/api-keys](https://platform.openai.com/api-keys)
2. ุณุฌู ุฏุฎูู ุฃู ุฃูุดุฆ ุญุณุงุจ ุฌุฏูุฏ
3. ุงุถุบุท ุนูู **"Create new secret key"**
4. ุงูุณุฎ ุงูููุชุงุญ (ูุจุฏุฃ ุจู `sk-proj-...`)

**โ๏ธ ููู ุฌุฏุงู**: 
- ุงูููุชุงุญ ูุธูุฑ ูุฑุฉ ูุงุญุฏุฉ ููุท - ุงุญูุธู ูู ููุงู ุขูู
- ูุง ุชุดุงุฑูู ูุน ุฃุญุฏ
- ูุง ุชุฑูุนู ุนูู GitHub

### ุงูุฎุทูุฉ 2: ุญุฏูุซ ููู .env
ุงูุชุญ ููู `.env` ูุงุณุชุจุฏู ุงูุณุทุฑ ุงูุชุงูู:

```env
# ูุจู โ
OPENAI_API_KEY="your-openai-api-key-here"

# ุจุนุฏ โ
OPENAI_API_KEY="sk-proj-abc123xyz456..." # ุงูููุชุงุญ ุงูุญูููู ูู OpenAI
```

### ุงูุฎุทูุฉ 3: ุฃุนุฏ ุชุดุบูู ุงูุชุทุจูู
```bash
# ุฃููู ุงูุณูุฑูุฑ (Ctrl+C)
# ุซู ุดุบููู ูู ุฌุฏูุฏ
npm run dev
```

## ๐ฐ ุงูุชูููุฉ ูุงูุฑุตูุฏ

### ูููุฐุฌ GPT-4o Vision
- **ุงูุชูููุฉ**: ~$0.01 ููู ุตูุฑุฉ (ุญุณุจ ุงูุญุฌู)
- **ุงูุจุฏูู ุงูุฃุฑุฎุต**: ูููู ุงุณุชุฎุฏุงู `gpt-4o-mini` (ุฃุฑุฎุต 10 ูุฑุงุช)

### ููููุฉ ุชุบููุฑ ุงููููุฐุฌ ูุชูููู ุงูุชูููุฉ
ูู ููู `src/app/api/ai/scan-product/route.ts` ุงูุณุทุฑ 38:

```typescript
// ูููุฐุฌ ููู (ุฃุบูู) โจ
model: "gpt-4o",

// ุจุฏูู ุฃุฑุฎุต (ุฌูุฏ ููุงุฎุชุจุงุฑ) ๐ฐ
model: "gpt-4o-mini",
```

### ุฅุถุงูุฉ ุฑุตูุฏ
1. ุงุฐูุจ ุฅูู: [platform.openai.com/settings/organization/billing](https://platform.openai.com/settings/organization/billing)
2. ุฃุถู ุจุทุงูุฉ ุงุฆุชูุงู
3. ุญุฏุฏ ุฑุตูุฏ ุดูุฑู (ูุซูุงู $10)

## ๐งช ุงุฎุชุจุงุฑ ุงููุงููุฑุง ุงูุฐููุฉ

ุจุนุฏ ุชุนุฑูู ุงูููุชุงุญ:

1. ุงุฐูุจ ุฅูู ุตูุญุฉ ุฅุถุงูุฉ ููุชุฌ: `/vendor/products/new`
2. ุงุถุบุท ุนูู ุฒุฑ **"๐ธ ูุงููุฑุง ุฐููุฉ"**
3. ุงูุชูุท ุตูุฑุฉ ุฃู ุงุฑูุน ุตูุฑุฉ ููุชุฌ
4. ุงูุชุธุฑ ุงูุชุญููู (5-10 ุซูุงู)
5. ุณุชุธูุฑ ุงูุจูุงูุงุช ุชููุงุฆูุงู:
   - โ ุงุณู ุงูููุชุฌ (ุนุฑุจู + ุฅูุฌููุฒู)
   - โ ุฑูู ุงูุจุงุฑููุฏ (ุฅู ููุฌุฏ)
   - โ ุงููุตู ุงูุชูุตููู
   - โ ุงูุณุนุฑ ุงูููุชุฑุญ
   - โ ุงููุฆุฉ ูุงูุฃููุงู ูุงูููุงุณุงุช

## ๐ ุฃูุงู ุงูููุชุงุญ

### โ ุงุญู ููุชุงุญู
```bash
# ุชุฃูุฏ ุฃู .env ูู .gitignore
echo ".env" >> .gitignore

# ูุง ุชุฑูุน ุงูููุชุงุญ ุนูู GitHub ุฃุจุฏุงู
git rm --cached .env
```

### ๐ ูููุดุฑ ุนูู Vercel
1. ุงุฐูุจ ุฅูู: [vercel.com/dashboard](https://vercel.com/dashboard)
2. ุงุฎุชุฑ ูุดุฑูุนู
3. **Settings โ Environment Variables**
4. ุฃุถู:
   - Key: `OPENAI_API_KEY`
   - Value: `sk-proj-...` (ุงูููุชุงุญ ุงูุญูููู)
5. ุฃุนุฏ ูุดุฑ ุงูุชุทุจูู

## ๐ ูุฑุงูุจุฉ ุงูุงุณุชุฎุฏุงู

ุชุงุจุน ุงุณุชููุงู API ูู:
[platform.openai.com/usage](https://platform.openai.com/usage)

## ๐ ูุดุงูู ุดุงุฆุนุฉ

### "insufficient_quota"
- ุงูุณุจุจ: ููุฏ ุงูุฑุตูุฏ
- ุงูุญู: ุฃุถู ุฑุตูุฏ ูู ุตูุญุฉ Billing

### "invalid_api_key"
- ุงูุณุจุจ: ุงูููุชุงุญ ุฎุงุทุฆ ุฃู ููุชูู ุงูุตูุงุญูุฉ
- ุงูุญู: ุฃูุดุฆ ููุชุงุญ ุฌุฏูุฏ

### "rate_limit_exceeded"
- ุงูุณุจุจ: ุทูุจุงุช ูุซูุฑุฉ ุฌุฏุงู
- ุงูุญู: ุงูุชุธุฑ ุฏูููุฉ ุซู ุญุงูู ูุฑุฉ ุฃุฎุฑู

## ๐จ ุงูุจุฏุงุฆู (ุจุฏูู OpenAI)

ุฅุฐุง ูู ุชุฑุบุจ ูู ุงุณุชุฎุฏุงู OpenAI:

1. **Google Cloud Vision API**
   - ูุฌุงูู ุญุชู 1000 ุทูุจ/ุดูุฑ
   - ูุฏุนู ูุฑุงุกุฉ ุงููุตูุต ูุงูุจุงุฑููุฏ

2. **Tesseract.js** (ูุญูู)
   - ูุฌุงูู 100%
   - ูุนูู ุนูู ุงููุชุตูุญ
   - ูุญุฏูุฏ ูู ุงูุชุญููู ุงูุฐูู

3. **ุฅุฏุฎุงู ูุฏูู**
   - ุงุญุฐู ุฒุฑ ุงููุงููุฑุง ุงูุฐููุฉ
   - ุงููุฃ ุงูุจูุงูุงุช ูุฏููุงู

---

**๐ ุฑูุงุจุท ูููุฏุฉ**:
- [OpenAI Pricing](https://openai.com/api/pricing/)
- [GPT-4 Vision Guide](https://platform.openai.com/docs/guides/vision)
- [Environment Variables in Next.js](https://nextjs.org/docs/pages/building-your-application/configuring/environment-variables)
