<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¹Ø¬Ù„Ø© ğŸ¡</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }
    
    .container {
      background: white;
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      max-width: 600px;
      width: 100%;
      text-align: center;
    }
    
    h1 {
      color: #667eea;
      margin-bottom: 30px;
      font-size: 32px;
    }
    
    .info-box {
      background: #f7fafc;
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
      border-left: 4px solid #667eea;
      text-align: right;
    }
    
    .info-box h3 {
      color: #2d3748;
      margin-bottom: 15px;
      font-size: 20px;
    }
    
    .info-box p {
      color: #4a5568;
      line-height: 1.8;
      margin: 8px 0;
    }
    
    .step {
      background: white;
      padding: 15px;
      margin: 10px 0;
      border-radius: 8px;
      border: 2px solid #e2e8f0;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .step:hover {
      border-color: #667eea;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
    }
    
    .step strong {
      color: #667eea;
      font-size: 18px;
    }
    
    .btn {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 15px 40px;
      border-radius: 50px;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      margin: 10px;
      transition: all 0.3s;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
    }
    
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
    }
    
    .btn-danger {
      background: linear-gradient(135deg, #f56565 0%, #c53030 100%);
    }
    
    .console-output {
      background: #1a202c;
      color: #68d391;
      padding: 20px;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      margin: 20px 0;
      text-align: left;
      direction: ltr;
      max-height: 200px;
      overflow-y: auto;
    }
    
    .success {
      color: #48bb78;
      font-size: 24px;
      margin: 20px 0;
      font-weight: bold;
    }
    
    .warning {
      background: #fef5e7;
      border: 2px solid #f39c12;
      border-radius: 8px;
      padding: 15px;
      margin: 20px 0;
      color: #d68910;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ¡ Ø§Ø®ØªØ¨Ø§Ø± Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸</h1>
    
    <div class="info-box">
      <h3>ğŸ“‹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù‡Ø§Ù…Ø©</h3>
      <p>âœ… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø´ØºØ§Ù„ Ø¹Ù„Ù‰: <strong>http://localhost:3001</strong></p>
      <p>âœ… Ø§Ù„Ø¹Ø¬Ù„Ø© ØªØ¸Ù‡Ø± Ø¨Ø¹Ø¯ <strong>2 Ø«Ø§Ù†ÙŠØ©</strong> Ù…Ù† ÙØªØ­ Ø§Ù„ØµÙØ­Ø©</p>
      <p>âœ… ØªØ¸Ù‡Ø± ÙÙ‚Ø· Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù‡Ù†Ø§Ùƒ ÙƒÙˆØ¨ÙˆÙ†Ø§Øª Ù…Ø­ÙÙˆØ¸Ø©</p>
    </div>

    <div class="warning">
      âš ï¸ <strong>ØªØ£ÙƒØ¯ Ø£Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø´ØºØ§Ù„!</strong><br>
      Ø§ÙƒØªØ¨ ÙÙŠ Terminal: <code>npm run dev</code>
    </div>

    <div class="info-box">
      <h3>ğŸ”§ Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø­Ù„</h3>
      
      <div class="step" onclick="clearAll()">
        <strong>Ø§Ù„Ø®Ø·ÙˆØ© 1:</strong> Ø§Ù…Ø³Ø­ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
      </div>
      
      <div class="step" onclick="checkStorage()">
        <strong>Ø§Ù„Ø®Ø·ÙˆØ© 2:</strong> ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
      </div>
      
      <div class="step" onclick="goToApp()">
        <strong>Ø§Ù„Ø®Ø·ÙˆØ© 3:</strong> Ø§ÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
      </div>
    </div>

    <div id="output" class="console-output" style="display: none;"></div>

    <div style="margin-top: 30px;">
      <button class="btn" onclick="clearAndGo()">
        ğŸ¯ Ø§Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§ÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
      </button>
      <button class="btn btn-danger" onclick="fullReset()">
        ğŸ’¥ Reset ÙƒØ§Ù…Ù„
      </button>
    </div>

    <div id="success" class="success" style="display: none;">
      âœ¨ ØªÙ…! Ø§Ù„Ø¹Ø¬Ù„Ø© Ù‡ØªØ¸Ù‡Ø± Ø¨Ø¹Ø¯ 2 Ø«Ø§Ù†ÙŠØ©...
    </div>
  </div>

  <script>
    function log(message, type = 'info') {
      const output = document.getElementById('output');
      output.style.display = 'block';
      const timestamp = new Date().toLocaleTimeString('ar-EG');
      const icon = type === 'success' ? 'âœ…' : type === 'error' ? 'âŒ' : 'ğŸ“';
      output.innerHTML += `[${timestamp}] ${icon} ${message}\n`;
      output.scrollTop = output.scrollHeight;
    }

    function clearAll() {
      try {
        // Ø§Ù…Ø³Ø­ localStorage
        localStorage.clear();
        log('ØªÙ… Ù…Ø³Ø­ localStorage', 'success');
        
        // Ø§Ù…Ø³Ø­ sessionStorage
        sessionStorage.clear();
        log('ØªÙ… Ù…Ø³Ø­ sessionStorage', 'success');
        
        // Ø§Ù…Ø³Ø­ Ø§Ù„ÙƒÙˆÙƒÙŠØ²
        document.cookie.split(";").forEach(function(c) { 
          document.cookie = c.replace(/^ +/, "").replace(/=.*/, "=;expires=" + new Date().toUTCString() + ";path=/"); 
        });
        log('ØªÙ… Ù…Ø³Ø­ Ø§Ù„ÙƒÙˆÙƒÙŠØ²', 'success');
        
        alert('âœ… ØªÙ… Ù…Ø³Ø­ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©!');
      } catch (e) {
        log('Ø®Ø·Ø£: ' + e.message, 'error');
      }
    }

    function checkStorage() {
      const output = document.getElementById('output');
      output.style.display = 'block';
      output.innerHTML = '';
      
      log('ğŸ” ÙØ­Øµ localStorage...', 'info');
      
      if (localStorage.length === 0) {
        log('âœ… localStorage ÙØ§Ø±Øº - Ø¬ÙŠØ¯!', 'success');
      } else {
        log(`âš ï¸ localStorage ÙÙŠÙ‡ ${localStorage.length} Ø¹Ù†ØµØ±:`, 'error');
        for (let i = 0; i < localStorage.length; i++) {
          const key = localStorage.key(i);
          log(`  - ${key}: ${localStorage.getItem(key)}`, 'info');
        }
      }
      
      // ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ù…Ù‡Ù…
      const prizeClaimed = localStorage.getItem('prizeClaimed');
      if (prizeClaimed) {
        log('âŒ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©: prizeClaimed = ' + prizeClaimed, 'error');
        log('ğŸ’¡ Ø§Ù„Ø­Ù„: Ø§Ù…Ø³Ø­ Ù‡Ø°Ø§ Ø§Ù„Ù…ÙØªØ§Ø­!', 'info');
      } else {
        log('âœ… prizeClaimed Ù…Ø´ Ù…ÙˆØ¬ÙˆØ¯ - Ø§Ù„Ø¹Ø¬Ù„Ø© Ù‡ØªØ¸Ù‡Ø±!', 'success');
      }
    }

    function goToApp() {
      const success = document.getElementById('success');
      success.style.display = 'block';
      
      setTimeout(() => {
        window.location.href = 'http://localhost:3001';
      }, 1500);
    }

    function clearAndGo() {
      clearAll();
      setTimeout(() => {
        goToApp();
      }, 500);
    }

    function fullReset() {
      if (confirm('ğŸš¨ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ Ø³ÙŠØªÙ… Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª!')) {
        // Ø§Ù…Ø³Ø­ ÙƒÙ„ Ø´ÙŠØ¡
        localStorage.clear();
        sessionStorage.clear();
        
        // Ø§Ù…Ø³Ø­ IndexedDB
        if (window.indexedDB) {
          indexedDB.databases().then(dbs => {
            dbs.forEach(db => {
              indexedDB.deleteDatabase(db.name);
            });
          });
        }
        
        // Ø§Ù…Ø³Ø­ Service Workers
        if ('serviceWorker' in navigator) {
          navigator.serviceWorker.getRegistrations().then(registrations => {
            registrations.forEach(registration => {
              registration.unregister();
            });
          });
        }
        
        log('ğŸ’¥ Full Reset ØªÙ… Ø¨Ù†Ø¬Ø§Ø­!', 'success');
        
        alert('âœ… ØªÙ…! Ù‡ÙŠØªÙ… ØªØ­ÙˆÙŠÙ„Ùƒ Ù„Ù„ØªØ·Ø¨ÙŠÙ‚...');
        setTimeout(() => {
          window.location.href = 'http://localhost:3001';
        }, 1000);
      }
    }

    // ØªØ´ØºÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
    window.onload = function() {
      log('ğŸš€ ØµÙØ­Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø¬Ø§Ù‡Ø²Ø©', 'success');
      checkStorage();
    };
  </script>
</body>
</html>
